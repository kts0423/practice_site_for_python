<!-- templates/admin_user_history.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>{{ user.name }} - {{ date }} 기록</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dark.css') }}">
</head>
<body>
    <div class="container">
        <h1>📄 {{ user.name }}의 {{ date }} 기록</h1>
        <p>총 문제 수: {{ total }} | 정답 수: {{ correct }} | 정답률: {{ '%.0f' % ((correct / total * 100) if total else 0) }}%</p>

        {% for item in records %}
            <div class="result-box">
                <strong>문제:</strong> {{ item.problem }}<br><br>
                <strong>내 코드:</strong><pre>{{ item.code }}</pre>
                <strong>출력:</strong><pre>{{ item.output }}</pre>
                <strong>결과:</strong> <span class="{{ 'correct' if item.is_correct else 'wrong' }}">{{ '정답' if item.is_correct else '오답' }}</span>
            </div>
        {% endfor %}

        <p><a href="{{ url_for('admin_user_dates', user_id=user.id) }}">← 날짜 목록으로</a></p>
    </div>
</body>
</html>
